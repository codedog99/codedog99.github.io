<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-我的第一篇博客文章" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/12/11/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/" class="article-date">
  <time datetime="2021-12-11T07:44:46.000Z" itemprop="datePublished">2021-12-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/12/11/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">我的第一篇博客文章</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="开发手册"><a href="#开发手册" class="headerlink" title="开发手册"></a>开发手册</h1><h2 id="一、前端规范"><a href="#一、前端规范" class="headerlink" title="一、前端规范"></a>一、前端规范</h2><p>1.前端接收的数据分两类</p>
<p>flag和data，当业务成功时flag=“true”，否则为错误信息，只有业务成功时data不为null，业务失败时data=null</p>
<p>2.改用弹窗用弹窗，该用的功能都要有位置，比如搜索，该用组件用组件，比如弹窗用组件，这就涉及到父子组件传值</p>
<h2 id="二、后端规范"><a href="#二、后端规范" class="headerlink" title="二、后端规范"></a>二、后端规范</h2><p>1.controller的返回参数为Map&lt;String ,Object&gt;，当业务成功时put一个flag=“true”，否则put一个flag=“错误信息”，只有业务成功时返回data，业务失败时不返回data</p>
<h1 id="侧边栏"><a href="#侧边栏" class="headerlink" title="侧边栏"></a>侧边栏</h1><h3 id="登录页——login-vue"><a href="#登录页——login-vue" class="headerlink" title="登录页——login.vue"></a>登录页——login.vue</h3><h3 id="注册页——register-vue"><a href="#注册页——register-vue" class="headerlink" title="注册页——register.vue"></a>注册页——register.vue</h3><h3 id="首页——main-vue（只提供框架）"><a href="#首页——main-vue（只提供框架）" class="headerlink" title="首页——main.vue（只提供框架）"></a>首页——main.vue（只提供框架）</h3><h4 id="系统管理员-sys"><a href="#系统管理员-sys" class="headerlink" title="系统管理员(/sys/)"></a>系统管理员(/sys/)</h4><ul>
<li><p>首页——sysManager.vue (可视化)</p>
</li>
<li><p>系统管理</p>
</li>
</ul>
<p>（1）用户管理——userManager.vue</p>
<ul>
<li>云工厂</li>
</ul>
<p>（1）云工厂管理——factoryManager.vue</p>
<ul>
<li>产品管理</li>
</ul>
<p>（1）产品类别管理——prodType.vue</p>
<p>（2）产品信息管理——prodInfo.vue</p>
<ul>
<li>设备管理</li>
</ul>
<p>（1）设备类别管理——equipType.vue</p>
<p>（2）设备信息管理——equipInfo.vue</p>
<ul>
<li>订单管理</li>
</ul>
<p>（1）订单基本信息——orderInfo.vue</p>
<h4 id="云工厂管理员（-fact-）"><a href="#云工厂管理员（-fact-）" class="headerlink" title="云工厂管理员（/fact/）"></a>云工厂管理员（/fact/）</h4><ul>
<li><p>首页——factManager.vue (可视化)</p>
</li>
<li><p>我的工厂</p>
</li>
</ul>
<p>（1）设备管理——equipManager.vue</p>
<p>（2）租赁中心——rentCenter.vue</p>
<ul>
<li>订单管理</li>
</ul>
<p>（1）订单接单——orderReceive.vue</p>
<p>（2）订单排产——orderProduct.vue</p>
<h4 id="经销商-buss"><a href="#经销商-buss" class="headerlink" title="经销商(/buss/)"></a>经销商(/buss/)</h4><ul>
<li><p>首页——bussManager.vue</p>
</li>
<li><p>订单管理</p>
</li>
</ul>
<p>（1）我的订单——myOrder.vue</p>
<h1 id="备忘录"><a href="#备忘录" class="headerlink" title="备忘录"></a>备忘录</h1><p>1、设备拥有固定产能，管理员可修改，生产时不能输入产能</p>
<p>2、如何生产：</p>
<ul>
<li>首先抢单</li>
<li>安排生产计划</li>
<li>生产计划开始生产——选择设备——计算产能是否满足——满足即可生产</li>
</ul>
<p>3、设备默认只有一个，但是同类型可以有多个，比如：车床1，车床2等</p>
<p><strong>4.设备类别和产品类型的递1归判断</strong></p>
<p><strong>5.类别的删除逻辑</strong>、</p>
<p><strong>6.右上角登录名</strong></p>
<p><strong>7.订单竞单表在更新中标时，添加updatetime</strong></p>
<p><strong>8.工厂主查询可用设备时，得考虑到其他计划中已占用设备</strong></p>
<h1 id="数据库（新）"><a href="#数据库（新）" class="headerlink" title="数据库（新）"></a>数据库（新）</h1><h2 id="用户和权限（4）"><a href="#用户和权限（4）" class="headerlink" title="用户和权限（4）"></a>用户和权限（4）</h2><h3 id="用户表"><a href="#用户表" class="headerlink" title="用户表"></a>用户表</h3><ul>
<li>将原来的工厂id去掉，在工厂表中添加了用户id来标记所属关系</li>
<li>用户工号暂时不用</li>
<li>外键（1个）：role_id（角色）</li>
</ul>
<table>
<thead>
<tr>
<th>用户表</th>
<th>t_user</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>主键ID</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0：有效   1：无效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>注册时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>user_status</td>
<td>int</td>
<td></td>
<td></td>
<td>用户状态 0:正常 1：锁定</td>
</tr>
<tr>
<td>user_name</td>
<td>varchar</td>
<td>50</td>
<td></td>
<td>用户名</td>
</tr>
<tr>
<td>user_real_name</td>
<td>varchar</td>
<td>100</td>
<td></td>
<td>用户姓名</td>
</tr>
<tr>
<td>user_passwd</td>
<td>varchar</td>
<td>100</td>
<td></td>
<td>用户密码</td>
</tr>
<tr>
<td><del>user_job_num</del></td>
<td><del>varchar</del></td>
<td><del>100</del></td>
<td></td>
<td><del>用户工号</del></td>
</tr>
<tr>
<td>user_phone_num</td>
<td>char</td>
<td>11</td>
<td></td>
<td>用户手机号</td>
</tr>
<tr>
<td>user_email</td>
<td>varchar</td>
<td>100</td>
<td></td>
<td>用户email</td>
</tr>
<tr>
<td>role_id</td>
<td>int</td>
<td></td>
<td></td>
<td>角色ID</td>
</tr>
</tbody></table>
<h3 id="角色表"><a href="#角色表" class="headerlink" title="角色表"></a>角色表</h3><ul>
<li>一个用户对应一种角色，每种角色就对应一种权限</li>
<li>将原来的factory_id删除（没啥用）</li>
</ul>
<table>
<thead>
<tr>
<th>角色表</th>
<th>t_user_role</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>角色ID</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0:有效   1:无效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>role_desc</td>
<td>varchar</td>
<td>500</td>
<td></td>
<td>角色描述</td>
</tr>
<tr>
<td>role_name</td>
<td>varchar</td>
<td>300</td>
<td></td>
<td>角色名称</td>
</tr>
<tr>
<td>role_status</td>
<td>int</td>
<td></td>
<td></td>
<td>角色状态 0:正常   1:禁用</td>
</tr>
</tbody></table>
<h3 id="角色权限对应表"><a href="#角色权限对应表" class="headerlink" title="角色权限对应表"></a>角色权限对应表</h3><ul>
<li>将角色和权限关联起来</li>
<li>外键（2个）：role_id（角色）,permit_id（权限）</li>
<li>将原来的factory_id删除（没啥用）</li>
</ul>
<table>
<thead>
<tr>
<th>角色权限对应表</th>
<th>t_role_permit</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>role_id</td>
<td>int</td>
<td></td>
<td></td>
<td>角色ID</td>
</tr>
<tr>
<td>permit_id</td>
<td>int</td>
<td></td>
<td></td>
<td>权限ID</td>
</tr>
</tbody></table>
<h3 id="权限表"><a href="#权限表" class="headerlink" title="权限表"></a>权限表</h3><ul>
<li>这里有自关联，父子关系，表示侧边栏</li>
</ul>
<table>
<thead>
<tr>
<th>权限表</th>
<th>t_permit</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>权限ID</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0:有效   1:无效</td>
</tr>
<tr>
<td>status</td>
<td>int</td>
<td></td>
<td></td>
<td>权限状态 0:正常   1:停用</td>
</tr>
<tr>
<td>parent_id</td>
<td>int</td>
<td></td>
<td>自关联</td>
<td>权限父ID</td>
</tr>
<tr>
<td>permit_name</td>
<td>varchar</td>
<td>300</td>
<td></td>
<td>权限名称</td>
</tr>
<tr>
<td>permit_icon</td>
<td>varchar</td>
<td>300</td>
<td></td>
<td>权限图标</td>
</tr>
<tr>
<td>permit_path</td>
<td>varchar</td>
<td>300</td>
<td></td>
<td>校验地址</td>
</tr>
</tbody></table>
<h2 id="设备和产品（5）"><a href="#设备和产品（5）" class="headerlink" title="设备和产品（5）"></a>设备和产品（5）</h2><h3 id="设备表"><a href="#设备表" class="headerlink" title="设备表"></a>设备表</h3><ul>
<li>添加了一个字段<code>equipment_flag</code>,用来标识：0标识是工厂自有，1标识是平台外租</li>
<li>外键（2个）：factory_id（关联工厂），equipment_type_id（关联类别）</li>
</ul>
<table>
<thead>
<tr>
<th>设备表</th>
<th>t_equipment</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0：有效 1：失效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>equipment_seq</td>
<td>varchar</td>
<td>200</td>
<td></td>
<td>设备序号</td>
</tr>
<tr>
<td>equipment_name</td>
<td>varchar</td>
<td>300</td>
<td></td>
<td>设备名称</td>
</tr>
<tr>
<td>equipment_type_id</td>
<td>int</td>
<td></td>
<td></td>
<td>设备类别</td>
</tr>
<tr>
<td>equipment_img_url</td>
<td>varchar</td>
<td>300</td>
<td></td>
<td>设备图片</td>
</tr>
<tr>
<td>equipment_status</td>
<td>int</td>
<td></td>
<td></td>
<td>设备状态 10：启用 20：停用   30：故障  <strong>40：已删除</strong></td>
</tr>
<tr>
<td>equipment_flag</td>
<td>int</td>
<td></td>
<td></td>
<td>0标识是工厂自有，1标识是平台外租</td>
</tr>
<tr>
<td>factory_id</td>
<td>int</td>
<td></td>
<td>默认值0，代表没有工厂使用或租用</td>
<td>工厂ID</td>
</tr>
</tbody></table>
<h3 id="设备类别表"><a href="#设备类别表" class="headerlink" title="设备类别表"></a>设备类别表</h3><ul>
<li>这里有自旋，父子关系</li>
</ul>
<table>
<thead>
<tr>
<th>设备类别表</th>
<th>t_equipment_type</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0：有效 1：失效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>parent_id</td>
<td>int</td>
<td>11</td>
<td></td>
<td>上级分类编号</td>
</tr>
<tr>
<td>equipment_type_name</td>
<td>varchar</td>
<td>200</td>
<td></td>
<td>设备类别名称</td>
</tr>
</tbody></table>
<h3 id="产品表"><a href="#产品表" class="headerlink" title="产品表"></a>产品表</h3><ul>
<li>外键：product_type_id（产品类别）</li>
</ul>
<table>
<thead>
<tr>
<th>产品表</th>
<th>t_product</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0：有效 1：无效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>product_num</td>
<td>varchar</td>
<td>200</td>
<td>非空</td>
<td>产品编号</td>
</tr>
<tr>
<td>product_name</td>
<td>varchar</td>
<td>300</td>
<td></td>
<td>产品名称</td>
</tr>
<tr>
<td>product_type_id</td>
<td>int</td>
<td></td>
<td></td>
<td>产品类别id</td>
</tr>
<tr>
<td>product_img_url</td>
<td>varchar</td>
<td>300</td>
<td></td>
<td>产品图片所在目录</td>
</tr>
</tbody></table>
<h3 id="产品类别表"><a href="#产品类别表" class="headerlink" title="产品类别表"></a>产品类别表</h3><ul>
<li>自关联</li>
</ul>
<table>
<thead>
<tr>
<th>产品表类别表</th>
<th>t_product_type</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0：有效 1：无效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>parent_id</td>
<td>int</td>
<td>4</td>
<td></td>
<td>上级分类编号</td>
</tr>
<tr>
<td>product_tpye_name</td>
<td>varchar</td>
<td>300</td>
<td></td>
<td>产品类别名称</td>
</tr>
</tbody></table>
<h3 id="产品设备关系表"><a href="#产品设备关系表" class="headerlink" title="产品设备关系表"></a>产品设备关系表</h3><ul>
<li>外键（2个）：equipment_id（设备），product_id（产品）</li>
<li>这里的产能是最大产能，也是固定产能，可修改，但是不能再生产时临时决定</li>
</ul>
<table>
<thead>
<tr>
<th>产品设备关系表</th>
<th>t_equipment_product</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>equipment_id</td>
<td>int</td>
<td>11</td>
<td></td>
<td>设备编号</td>
</tr>
<tr>
<td>product_id</td>
<td>int</td>
<td>11</td>
<td></td>
<td>产品编号</td>
</tr>
<tr>
<td>maxYield</td>
<td>int</td>
<td>11</td>
<td></td>
<td>最大产能</td>
</tr>
<tr>
<td><del>yield</del></td>
<td><del>int</del></td>
<td><del>11</del></td>
<td></td>
<td><del>产能</del></td>
</tr>
<tr>
<td>unit</td>
<td>int</td>
<td>11</td>
<td></td>
<td>产能单位 10：天 20：月 30：年  40：小时</td>
</tr>
</tbody></table>
<h2 id="工厂和生产（6）"><a href="#工厂和生产（6）" class="headerlink" title="工厂和生产（6）"></a>工厂和生产（6）</h2><p><strong>流程：</strong></p>
<ul>
<li>经销商发布订单</li>
<li>工厂主发布竞单</li>
<li>经销商选择中标</li>
<li>工厂主安排生产计划</li>
<li>根据生产计划安排生产</li>
<li>计算产能是否满足，不满足不能开工（就这么干，不解释）</li>
</ul>
<h3 id="工厂表"><a href="#工厂表" class="headerlink" title="工厂表"></a>工厂表</h3><ul>
<li>加了一个字段，<code>factory_user</code>，标识是哪个人管理此工厂</li>
</ul>
<table>
<thead>
<tr>
<th>工厂定义表</th>
<th>t_factory</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>工厂ID</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0:有效   1:无效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>factory_name</td>
<td>varchar</td>
<td>500</td>
<td></td>
<td>工厂名称</td>
</tr>
<tr>
<td>factory_addr</td>
<td>varchar</td>
<td>500</td>
<td></td>
<td>工厂地址</td>
</tr>
<tr>
<td>factory_desc</td>
<td>varchar</td>
<td>200</td>
<td></td>
<td>工厂描述</td>
</tr>
<tr>
<td>factory_worker</td>
<td>int</td>
<td></td>
<td>默认值0</td>
<td>工厂人数</td>
</tr>
<tr>
<td>factory_status</td>
<td>int</td>
<td></td>
<td></td>
<td>工厂状态 0:正常   1:关闭</td>
</tr>
<tr>
<td>factory_user</td>
<td>int</td>
<td></td>
<td></td>
<td>工厂所有人的id</td>
</tr>
</tbody></table>
<h3 id="设备租用表"><a href="#设备租用表" class="headerlink" title="设备租用表"></a>设备租用表</h3><ul>
<li>这是新加的表</li>
</ul>
<table>
<thead>
<tr>
<th>设备租用表</th>
<th>t_equipment_rental</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0：有效 1：失效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>equipment_id</td>
<td>int</td>
<td></td>
<td></td>
<td>设备id</td>
</tr>
<tr>
<td>factory_id</td>
<td>int</td>
<td></td>
<td></td>
<td>工厂id</td>
</tr>
<tr>
<td>start_date</td>
<td>date</td>
<td></td>
<td></td>
<td>租赁日期</td>
</tr>
<tr>
<td>end_date</td>
<td>date</td>
<td></td>
<td></td>
<td>截止日期</td>
</tr>
</tbody></table>
<h3 id="产品订单表"><a href="#产品订单表" class="headerlink" title="产品订单表"></a>产品订单表</h3><ul>
<li><code>factory_yield</code>这个字段保留，暂时不用</li>
<li>外键（2个）：product_id（产品），factory_id（工厂）</li>
</ul>
<table>
<thead>
<tr>
<th>产品订单表</th>
<th>t_product_order</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0：有效   1：无效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>order_seq</td>
<td>varchar</td>
<td>200</td>
<td>非空</td>
<td>订单编号</td>
</tr>
<tr>
<td>order_source</td>
<td>int</td>
<td></td>
<td></td>
<td>订单来源</td>
</tr>
<tr>
<td>product_id</td>
<td>int</td>
<td></td>
<td></td>
<td>产品ID</td>
</tr>
<tr>
<td>product_count</td>
<td>int</td>
<td></td>
<td></td>
<td>产品数量</td>
</tr>
<tr>
<td>end_date</td>
<td>date</td>
<td></td>
<td></td>
<td>订单截止日期</td>
</tr>
<tr>
<td>bidding_end_date</td>
<td>date</td>
<td></td>
<td></td>
<td>竞标截止日期</td>
</tr>
<tr>
<td>order_status</td>
<td>int</td>
<td></td>
<td></td>
<td>订单状态  10：未保存 15：已发布  20：已接单   30：已拒绝    40：生产中 50：订单完成（已发货）   60：已保存</td>
</tr>
<tr>
<td>factory_id</td>
<td>int</td>
<td></td>
<td>默认值0，表示没有</td>
<td>工厂ID</td>
</tr>
<tr>
<td>factory_yield</td>
<td>int</td>
<td></td>
<td></td>
<td>工厂产能</td>
</tr>
</tbody></table>
<h3 id="订单竞单表"><a href="#订单竞单表" class="headerlink" title="订单竞单表"></a>订单竞单表</h3><ul>
<li>外键（2个）：rder_seq（订单编号），factory_id（工厂ID）</li>
</ul>
<table>
<thead>
<tr>
<th>订单竞标表</th>
<th>t_order_bidding</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0：有效   1：无效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>order_seq</td>
<td>varchar</td>
<td>200</td>
<td>非空</td>
<td>订单编号</td>
</tr>
<tr>
<td>bidding_price</td>
<td>double</td>
<td></td>
<td></td>
<td>竞标价格</td>
</tr>
<tr>
<td>bidding_status</td>
<td>int</td>
<td></td>
<td>默认值0，表示竞标中</td>
<td>竞标状态  10：未中标 20：已中标</td>
</tr>
<tr>
<td>factory_id</td>
<td>int</td>
<td></td>
<td></td>
<td>工厂ID</td>
</tr>
</tbody></table>
<h3 id="生成计划表"><a href="#生成计划表" class="headerlink" title="生成计划表"></a>生成计划表</h3><ul>
<li>外键（3个）：order_id（订单），product_id（产品），factory_id（工厂）</li>
</ul>
<table>
<thead>
<tr>
<th>生产计划表</th>
<th>t_product_plan</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0：有效   1：无效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>plan_seq</td>
<td>varchar</td>
<td>200</td>
<td>非空</td>
<td>计划编号</td>
</tr>
<tr>
<td>order_id</td>
<td>int</td>
<td></td>
<td></td>
<td>订单ID</td>
</tr>
<tr>
<td>product_id</td>
<td>int</td>
<td></td>
<td></td>
<td>产品ID</td>
</tr>
<tr>
<td>plan_count</td>
<td>int</td>
<td></td>
<td></td>
<td>计划数量</td>
</tr>
<tr>
<td>delivery_date</td>
<td>date</td>
<td></td>
<td></td>
<td>交货日期</td>
</tr>
<tr>
<td>plan_start_date</td>
<td>date</td>
<td></td>
<td></td>
<td>计划开始日期</td>
</tr>
<tr>
<td>plan_end_date</td>
<td>date</td>
<td></td>
<td></td>
<td>计划结束日期</td>
</tr>
<tr>
<td>plan_status</td>
<td>int</td>
<td></td>
<td></td>
<td>计划状态 10：未启动   20：已启动  30：已完成</td>
</tr>
<tr>
<td>factory_id</td>
<td>int</td>
<td></td>
<td></td>
<td>工厂ID</td>
</tr>
</tbody></table>
<h3 id="生产调度表"><a href="#生产调度表" class="headerlink" title="生产调度表"></a>生产调度表</h3><ul>
<li>外键（4个）：plan_id（计划），product_id（产品），equipment_id（设备），factory_id（工厂）</li>
</ul>
<table>
<thead>
<tr>
<th>生产调度表</th>
<th>t_product_schedule</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0：有效   1：无效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>schedule_seq</td>
<td>varchar</td>
<td>200</td>
<td></td>
<td>工单编号</td>
</tr>
<tr>
<td>schedule_count</td>
<td>int</td>
<td></td>
<td></td>
<td>工单数量</td>
</tr>
<tr>
<td>schedule_status</td>
<td>int</td>
<td></td>
<td></td>
<td>工单状态 10：未开始  20：生产中   30：已完成</td>
</tr>
<tr>
<td>plan_id</td>
<td>int</td>
<td></td>
<td></td>
<td>计划ID</td>
</tr>
<tr>
<td>product_id</td>
<td>int</td>
<td></td>
<td></td>
<td>产品ID</td>
</tr>
<tr>
<td>equipment_id</td>
<td>int</td>
<td></td>
<td></td>
<td>设备ID</td>
</tr>
<tr>
<td>yield</td>
<td>int</td>
<td></td>
<td></td>
<td>当前产能</td>
</tr>
<tr>
<td>start_date</td>
<td>date</td>
<td></td>
<td></td>
<td>开始日期</td>
</tr>
<tr>
<td>end_date</td>
<td>date</td>
<td></td>
<td></td>
<td>结束日期</td>
</tr>
<tr>
<td>factory_id</td>
<td>int</td>
<td></td>
<td></td>
<td>工厂ID</td>
</tr>
</tbody></table>
<h2 id="其他（2）"><a href="#其他（2）" class="headerlink" title="其他（2）"></a>其他（2）</h2><h3 id="订单跟踪表"><a href="#订单跟踪表" class="headerlink" title="订单跟踪表"></a>订单跟踪表</h3><table>
<thead>
<tr>
<th>订单跟踪表</th>
<th>t_order_track</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0：有效 1：无效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>schedule_id</td>
<td>int</td>
<td></td>
<td>非空</td>
<td>调度id</td>
</tr>
<tr>
<td>plan_id</td>
<td>int</td>
<td></td>
<td></td>
<td>计划id</td>
</tr>
<tr>
<td>product_id</td>
<td>int</td>
<td></td>
<td></td>
<td>产品id</td>
</tr>
<tr>
<td>working_count</td>
<td>int</td>
<td></td>
<td></td>
<td>加工数量</td>
</tr>
<tr>
<td>qualified_count</td>
<td>int</td>
<td></td>
<td></td>
<td>合格数</td>
</tr>
<tr>
<td>factory_id</td>
<td>int</td>
<td></td>
<td></td>
<td>工厂ID</td>
</tr>
</tbody></table>
<h3 id="报工表"><a href="#报工表" class="headerlink" title="报工表"></a>报工表</h3><table>
<thead>
<tr>
<th>报工表</th>
<th>t_daily_work</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>字段名称</td>
<td>字段类型</td>
<td>字段长度</td>
<td>字段约束</td>
<td>字段备注</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td></td>
<td>主键,自增</td>
<td>ID标识</td>
</tr>
<tr>
<td>flag</td>
<td>int</td>
<td></td>
<td></td>
<td>有效标识 0：有效   1：无效</td>
</tr>
<tr>
<td>create_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>创建时间</td>
</tr>
<tr>
<td>create_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>创建人ID</td>
</tr>
<tr>
<td>update_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>修改时间</td>
</tr>
<tr>
<td>update_userid</td>
<td>int</td>
<td></td>
<td></td>
<td>修改人ID</td>
</tr>
<tr>
<td>schedule_id</td>
<td>int</td>
<td></td>
<td></td>
<td>调度ID</td>
</tr>
<tr>
<td>equipment_id</td>
<td>int</td>
<td></td>
<td></td>
<td>设备id</td>
</tr>
<tr>
<td>equipment_seq</td>
<td>varchar</td>
<td>200</td>
<td></td>
<td>设备序号</td>
</tr>
<tr>
<td>start_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>加工开始时间</td>
</tr>
<tr>
<td>end_time</td>
<td>datetime</td>
<td></td>
<td></td>
<td>加工结束时间</td>
</tr>
<tr>
<td>working_count</td>
<td>int</td>
<td></td>
<td></td>
<td>加工数量</td>
</tr>
<tr>
<td>qualified_count</td>
<td>int</td>
<td></td>
<td></td>
<td>合格数量</td>
</tr>
<tr>
<td>unqualified_cout</td>
<td>int</td>
<td></td>
<td></td>
<td>不合格数量</td>
</tr>
<tr>
<td>complete_flag</td>
<td>int</td>
<td></td>
<td></td>
<td>结束报工标识 0：是   1：否</td>
</tr>
<tr>
<td>factory_id</td>
<td>int</td>
<td></td>
<td></td>
<td>工厂ID</td>
</tr>
<tr>
<td>bak</td>
<td>varchar</td>
<td>500</td>
<td></td>
<td>备注</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/11/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/" data-id="ckx1iovzq0000z8unb77v95ql" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/12/11/hello-world/" class="article-date">
  <time datetime="2021-12-11T07:07:48.266Z" itemprop="datePublished">2021-12-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/12/11/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/12/11/hello-world/" data-id="ckx1haioe0000m0unbon85j0m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/12/11/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">我的第一篇博客文章</a>
          </li>
        
          <li>
            <a href="/2021/12/11/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>